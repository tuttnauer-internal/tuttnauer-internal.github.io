(this["webpackJsonpgraph-tutorial"]=this["webpackJsonpgraph-tutorial"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),l=(a(84),a(6)),i=a(7),o=a(13),u=a(12),p=a(3),d=a.n(p),m=a(21),h=a(119);function g(e){return h.Client.init({authProvider:function(t){t(null,e)}})}function f(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(t),e.next=3,a.api("/me").get();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(t),e.next=3,a.api("/me/events").select("subject,organizer,start,end").orderby("createdDateTime DESC").get();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=a(77),O={appId:"f68e62e9-f631-4411-8bf7-4630e16d06d5",redirectUri:"http://localhost:3000",scopes:["user.read","calendars.read"],serverUrl:"http://localhost:8080"};function k(e){return function(t){Object(o.a)(n,t);var a=Object(u.a)(n);function n(e){var t;return Object(l.a)(this,n),(t=a.call(this,e)).userAgentApplication=void 0,t.state={error:null,isAuthenticated:!1,user:{}},t.userAgentApplication=new y.a({auth:{clientId:O.appId,redirectUri:O.redirectUri},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}}),t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.userAgentApplication.getAccount()&&this.getUserProfile()}},{key:"render",value:function(){var t=this;return r.a.createElement(e,Object.assign({},this.state.error,this.state.isAuthenticated,this.state.user,{login:function(){return t.login()},logout:function(){return t.logout()},getAccessToken:function(e){return t.getAccessToken(e)},setError:function(e,a){return t.setErrorMessage(e,a)}},this.props,this.state))}},{key:"login",value:function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userAgentApplication.loginPopup({scopes:O.scopes,prompt:"select_account"});case 3:return e.next=5,this.getUserProfile();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({isAuthenticated:!1,user:{},error:this.normalizeError(e.t0)});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.userAgentApplication.logout()}},{key:"getAccessToken",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userAgentApplication.acquireTokenSilent({scopes:t});case 3:return a=e.sent,e.abrupt("return",a.accessToken);case 7:if(e.prev=7,e.t0=e.catch(0),!this.isInteractionRequired(e.t0)){e.next=16;break}return e.next=12,this.userAgentApplication.acquireTokenPopup({scopes:t});case 12:return n=e.sent,e.abrupt("return",n.accessToken);case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserProfile",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken(O.scopes);case 3:if(!(t=e.sent)){e.next=9;break}return e.next=7,f(t);case 7:a=e.sent,this.setState({isAuthenticated:!0,user:{displayName:a.displayName,email:a.mail||a.userPrincipalName},error:null});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.setState({isAuthenticated:!1,user:{},error:this.normalizeError(e.t0)});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"setErrorMessage",value:function(e,t){this.setState({error:{message:e,debug:t}})}},{key:"normalizeError",value:function(e){var t={};if("string"===typeof e){var a=e.split("|");t=a.length>1?{message:a[1],debug:a[0]}:{message:e}}else t={message:e.message,debug:JSON.stringify(e)};return t}},{key:"isInteractionRequired",value:function(e){return!(!e.message||e.message.length<=0)&&(e.message.indexOf("consent_required")>-1||e.message.indexOf("interaction_required")>-1||e.message.indexOf("login_required")>-1)}}]),n}(r.a.Component)}var j=a(40),C=a(27),x=a(125),A=a(43),S=a(142),w=a(143),M=a(144),N=a(122),T=a(123),P=a(71),B=a(124),I=a(126),U=a(127),q=a(128),z=a(129),G=a(130);a(89);function R(e){return e.user.avatar?r.a.createElement("img",{src:e.user.avatar,alt:"user",className:"rounded-circle align-self-center mr-2",style:{width:"32px"}}):r.a.createElement("i",{className:"far fa-user-circle fa-lg rounded-circle align-self-center mr-2",style:{width:"32px"}})}function _(e){return e.isAuthenticated?r.a.createElement(S.a,null,r.a.createElement(w.a,{nav:!0,caret:!0},r.a.createElement(R,{user:e.user})),r.a.createElement(M.a,{right:!0},r.a.createElement("h5",{className:"dropdown-item-text mb-0"},e.user.displayName),r.a.createElement("p",{className:"dropdown-item-text text-muted mb-0"},e.user.email),r.a.createElement(N.a,{divider:!0}),r.a.createElement(N.a,{onClick:e.authButtonMethod},"Sign Out"))):r.a.createElement(T.a,null,r.a.createElement(P.a,{onClick:e.authButtonMethod,className:"btn-link nav-link border-0",color:"link"},"Sign In"))}var D=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggle=n.toggle.bind(Object(A.a)(n)),n.state={isOpen:!1},n}return Object(i.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"menueElement",value:function(e,t,a){var n=null;return!this.props.isAuthenticated&&a||(n=r.a.createElement(T.a,null,r.a.createElement(j.b,{to:e,className:"nav-link",exact:!0},t))),n}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B.a,{color:"dark",dark:!0,expand:"md",fixed:"top"},r.a.createElement(x.a,null,r.a.createElement(I.a,{href:"/"},"Tuttnauer"),r.a.createElement(U.a,{onClick:this.toggle}),r.a.createElement(q.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(z.a,{className:"mr-auto",navbar:!0},r.a.createElement(T.a,null,r.a.createElement(j.b,{to:"/",className:"nav-link",exact:!0},"Home")),this.menueElement("/calendar","Calendar",!0),this.menueElement("/s-b-code","S to B code",!0),this.menueElement("/settings","settings",!1)),r.a.createElement(z.a,{className:"justify-content-end",navbar:!0},r.a.createElement(T.a,null,r.a.createElement(G.a,{href:"https://developer.microsoft.com/graph/docs/concepts/overview",target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt mr-1"}),"Docs")),r.a.createElement(_,{isAuthenticated:this.props.isAuthenticated,authButtonMethod:this.props.authButtonMethod,user:this.props.user}))))))}}]),a}(r.a.Component),J=a(131),F=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=null;return this.props.debug&&(e=r.a.createElement("pre",{className:"alert-pre border bg-light p-2"},r.a.createElement("code",null,this.props.debug))),r.a.createElement(J.a,{color:"danger"},r.a.createElement("p",{className:"mb-3"},this.props.message),e)}}]),a}(r.a.Component),V=a(132);function W(e){return e.isAuthenticated?r.a.createElement("div",null,r.a.createElement("h4",null,"Welcome ",e.user.displayName,"!"),r.a.createElement("p",null,"Use the navigation bar at the top of the page to get started.")):r.a.createElement(P.a,{color:"primary",onClick:e.authButtonMethod},"Sign in")}var Y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(V.a,null,r.a.createElement("h1",null,"Tuttnauer"),r.a.createElement("p",{className:"lead"},"Internal tool"),r.a.createElement(W,{isAuthenticated:this.props.isAuthenticated,user:this.props.user,authButtonMethod:this.props.authButtonMethod}))}}]),a}(r.a.Component),H=(a(113),a(133)),L=a(75),$=a.n(L);function K(e){if(void 0!==e)return $.a.utc(e).local().format("M/D/YY h:mm A")}var Q=k(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={events:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.getAccessToken(O.scopes);case 3:return t=e.sent,e.next=6,v(t);case 6:a=e.sent,this.setState({events:a.value}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.props.setError("ERROR",JSON.stringify(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Calendar"),r.a.createElement(H.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Organizer"),r.a.createElement("th",{scope:"col"},"Subject"),r.a.createElement("th",{scope:"col"},"Start"),r.a.createElement("th",{scope:"col"},"End"))),r.a.createElement("tbody",null,this.state.events.map((function(e){var t,a,n,c;return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,null===(t=e.organizer)||void 0===t||null===(a=t.emailAddress)||void 0===a?void 0:a.name),r.a.createElement("td",null,e.subject),r.a.createElement("td",null,K(null===(n=e.start)||void 0===n?void 0:n.dateTime)),r.a.createElement("td",null,K(null===(c=e.end)||void 0===c?void 0:c.dateTime)))})))))}}]),a}(r.a.Component)),X=a(76),Z=a.n(X),ee=k(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={generatedClassCode:"",codeGeneratorFactor:"",loading:!1},n}return Object(i.a)(a,[{key:"fetchGeneratedClassCode",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getAccessToken(O.scopes);case 3:return t=e.sent,e.next=6,fetch("".concat(O.serverUrl,"/api/generatedClassCode"),{credentials:"include",headers:{Authorization:"Bearer ".concat(t)}});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,this.setState({generatedClassCode:n.generatedClassCode,loading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement("div",null,t?r.a.createElement(Z.a,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Class Change Password Generator"),r.a.createElement("label",null,"Machine Serial #"),r.a.createElement("input",{type:"text",value:this.state.codeGeneratorFactor,onInput:function(t){return e.setState({codeGeneratorFactor:t.currentTarget.value})}}),r.a.createElement("button",{onClick:function(){return e.fetchGeneratedClassCode()},type:"button"},"Generate!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Password- "),r.a.createElement("label",null,this.state.generatedClassCode)))}}]),a}(n.Component)),te=a(26),ae=a(32),ne=a(134),re=a(135),ce=a(136),se=a(137),le=a(138),ie=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(ce.a,null,this.props.type),r.a.createElement(se.a,null,"Card subtitle"),r.a.createElement(le.a,null,"Some quick example text."))))}}]),a}(n.Component),oe=a(36),ue=a(145),pe=a(139),de=a(140),me=a(141),he=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),c=a[0],s=a[1],l=function(){return s(!c)};return r.a.createElement("div",null,r.a.createElement(P.a,{color:"primary",onClick:l},"Add Stage"),r.a.createElement(ue.a,{isOpen:c,toggle:l},r.a.createElement(pe.a,{toggle:l},"Add Stage"),r.a.createElement(de.a,null,"stateMachineStage: RemoveAir."),r.a.createElement(me.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(){l(),e.addStage("Remove Air")}},"Add")," ",r.a.createElement(P.a,{color:"secondary",onClick:l},"Cancel"))))},ge=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),c=a[0],s=a[1],l=function(){return s(!c)};return r.a.createElement("div",null,r.a.createElement(P.a,{color:"primary",onClick:l},"Add Parameter"),r.a.createElement(ue.a,{isOpen:c,toggle:l},r.a.createElement(pe.a,{toggle:l},"Add Parameter"),r.a.createElement(de.a,null,"type: keep_gen."),r.a.createElement(me.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(){l(),e.addParameter("keep_gen")}},"Add")," ",r.a.createElement(P.a,{color:"secondary",onClick:l},"Cancel"))))},fe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addStage=function(t){var a={parameters:[],stages:[],stateMachineStage:t},n=Object(ae.a)({},e.props);n.stages=[].concat(Object(te.a)(n.stages),[a]),e.props.updateStage(e.props.index,n)},e.updateStage=function(t,a){var n=Object(ae.a)({},e.props);n.stages[t]=a,e.props.updateStage(e.props.index,n)},e.addParameter=function(t){var a={type:t,value:0,defaultValue:0,maxValue:0,minValue:0},n=Object(ae.a)({},e.props);n.parameters=[].concat(Object(te.a)(n.parameters),[a]),e.props.updateStage(e.props.index,n)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(ce.a,null,this.props.stateMachineStage),r.a.createElement(se.a,null,"Card subtitle"),r.a.createElement(le.a,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(he,{addStage:this.addStage}),r.a.createElement(ge,{addParameter:this.addParameter}),this.props.stages.map((function(t,n){return r.a.createElement(a,Object.assign({key:n},t,{index:n,updateStage:e.updateStage}))})),this.props.parameters.map((function(e,t){return r.a.createElement(ie,Object.assign({key:t,index:t},e))})))))}}]),a}(n.Component),Ee=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addStage=function(t){var a={parameters:[],stages:[],stateMachineStage:t},n=Object(ae.a)({},e.props);n.stages=[].concat(Object(te.a)(n.stages),[a]),e.props.updateCycle(e.props.index,n)},e.updateStage=function(t,a){var n=Object(ae.a)({},e.props);n.stages[t]=a,e.props.updateCycle(e.props.index,n)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(ce.a,null,this.props.cycleId),r.a.createElement(se.a,null,"Card subtitle"),r.a.createElement(le.a,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(he,{addStage:this.addStage}),this.props.stages.map((function(t,a){return r.a.createElement(fe,Object.assign({key:t.stateMachineStage},t,{index:a,updateStage:e.updateStage}))})))))}}]),a}(n.Component),ve=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),c=a[0],s=a[1],l=function(){return s(!c)};return r.a.createElement("div",null,r.a.createElement(P.a,{color:"primary",onClick:l},"Add Cycle"),r.a.createElement(ue.a,{isOpen:c,toggle:l},r.a.createElement(pe.a,{toggle:l},"Add Cycle"),r.a.createElement(de.a,null,"Cycle id: Unwrapped121."),r.a.createElement(me.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(){l(),e.addCycle("Unwrapped121")}},"Add")," ",r.a.createElement(P.a,{color:"secondary",onClick:l},"Cancel"))))},be=k(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addCycle=function(e){n.setState((function(t){var a={cycleId:e,stages:[]};return{cycles:[].concat(Object(te.a)(t.cycles),[a])}}))},n.updateCycle=function(e,t){n.setState((function(a){var n=Object(te.a)(a.cycles);return n[e]=t,{cycles:n}}))},n.state={cycles:[]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ve,{addCycle:this.addCycle}),this.state.cycles.map((function(t,a){return r.a.createElement(Ee,Object.assign({key:a},t,{index:a,updateCycle:e.updateCycle}))})))}}]),a}(n.Component)),ye=k(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=null;return this.props.error&&(t=r.a.createElement(F,{message:this.props.error.message,debug:this.props.error.debug})),r.a.createElement(j.a,null,r.a.createElement("div",null,r.a.createElement(D,{isAuthenticated:this.props.isAuthenticated,authButtonMethod:this.props.isAuthenticated?this.props.logout:this.props.login,user:this.props.user}),r.a.createElement(x.a,null,t,r.a.createElement(C.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(Y,Object.assign({},t,{isAuthenticated:e.props.isAuthenticated,user:e.props.user,authButtonMethod:e.props.login}))}}),r.a.createElement(C.b,{exact:!0,path:"/calendar",render:function(t){return e.props.isAuthenticated?r.a.createElement(Q,t):r.a.createElement(C.a,{to:"/"})}}),r.a.createElement(C.b,{exact:!0,path:"/s-b-code",render:function(t){return e.props.isAuthenticated?r.a.createElement(ee,t):r.a.createElement(C.a,{to:"/"})}}),r.a.createElement(C.b,{exact:!0,path:"/settings",render:function(e){return r.a.createElement(be,e)}}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){e.exports=a(120)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.f408ab0c.chunk.js.map